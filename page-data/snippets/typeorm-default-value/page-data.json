{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/snippets/typeorm-default-value/","result":{"data":{"site":{"siteMetadata":{"title":"Alan'space"}},"markdownRemark":{"id":"22531309-b312-52a8-9cce-ff771d00adb6","fields":{"slug":"/snippets/typeorm-default-value/"},"excerpt":"위처럼 같이 default 값을 줬는데 에러가 난다. non-null value에 null 값이 들어왔다는 오류였다. default 값이 제대로 인식되지 않는 것일까? 여기서 뭘 더 해줘야하나? 해답은 레퍼런스에 있었다. default가 string…","html":"<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Column</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nviews<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>위처럼 같이 default 값을 줬는데 에러가 난다. non-null value에 null 값이 들어왔다는 오류였다. default 값이 제대로 인식되지 않는 것일까? 여기서 뭘 더 해줘야하나?</p>\n<p>해답은 <a href=\"https://github.com/typeorm/typeorm/blob/master/docs/entities.md#column-options\">레퍼런스</a>에 있었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\">default: string - Adds database-level column's DEFAULT value.</code></pre></div>\n<p>default가 string 타입이란다. 분명 타입 정의에서는 이렇게 봤었는데..</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">default</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">any</span></code></pre></div>\n<p>DB로는 Postgres를 사용했는데 이게 Postgres만 그런건지, 아니면 다른 것들도 그런건지는 모르겠다. 어쨌든 다음과 같이 따옴표로 감싸주면 정상적으로 동작한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Column</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">'0'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nviews<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"date":"2022-04-13","title":"TypeORM에서 default value 사용 시 주의점","description":null,"category":"snippets","tags":["nestjs","typeorm"]}},"previous":{"fields":{"slug":"/http/"},"frontmatter":{"title":"HTTP"}},"next":{"fields":{"slug":"/microservice-message-brocker/"},"frontmatter":{"title":"MSA를 위한 메시지 브로커 고르기"}}},"pageContext":{"id":"22531309-b312-52a8-9cce-ff771d00adb6","previousPostId":"87b23438-6c09-57f9-b5c2-d9ac4feafad6","nextPostId":"ed09d128-5b97-5c4b-b7aa-55fe12cb5e9f"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}